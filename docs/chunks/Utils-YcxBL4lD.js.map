{"version":3,"file":"Utils-YcxBL4lD.js","sources":["../../src/main/core/Configs.ts","../../src/main/core/V.ts","../../src/main/core/Utils.ts"],"sourcesContent":["export default class Configs {\r\n  public static INITIAL_SHIELD = 100;\r\n  public static INITIAL_FUEL = 100;\r\n  public static INITIAL_MISSILE_AMMO = 20;\r\n  public static LASER_ATTENUATION = 1;\r\n  public static LASER_MOMENTUM = 128;\r\n  public static FUEL_COST = 0.24;\r\n  public static COLLISION_SIZE = 4;\r\n  public static SCAN_WAIT = 0.35;\r\n  public static SPEED_RESISTANCE = 0.96;\r\n  public static GRAVITY = 0.1;\r\n  public static TOP_INVISIBLE_HAND = 480;\r\n  public static DISTANCE_BORDAR = 400;\r\n  public static DISTANCE_INVISIBLE_HAND = 0.008;\r\n  public static OVERHEAT_BORDER = 100;\r\n  public static OVERHEAT_DAMAGE_LINEAR_WEIGHT = 0.05;\r\n  public static OVERHEAT_DAMAGE_POWER_WEIGHT = 0.012;\r\n  public static GROUND_DAMAGE_SCALE = 1;\r\n  public static COOL_DOWN = 0.5;\r\n  public static ON_HIT_SPEED_GIVEN_RATE = 0.4;\r\n}\r\n","export default class V {\r\n  private calculatedLength: number | null = null;\r\n  private calculatedAngle: number | null = null;\r\n\r\n  constructor(public x: number, public y: number) {}\r\n\r\n  public add(v: V): V;\r\n  public add(x: number, y: number): V;\r\n  public add(v: any, y?: number): V {\r\n    if (v instanceof V) {\r\n      return new V(this.x + (v.x || 0), this.y + (v.y || 0));\r\n    }\r\n    return new V(this.x + (v || 0), this.y + (y || 0));\r\n  }\r\n  public subtract(v: V): V;\r\n  public subtract(x: number, y: number): V;\r\n  public subtract(v: any, y?: number): V {\r\n    if (v instanceof V) {\r\n      return new V(this.x - (v.x || 0), this.y - (v.y || 0));\r\n    }\r\n    return new V(this.x - (v || 0), this.y - (y || 0));\r\n  }\r\n  public multiply(v: V | number): V {\r\n    if (v instanceof V) {\r\n      return new V(this.x * v.x, this.y * v.y);\r\n    }\r\n    return new V(this.x * v, this.y * v);\r\n  }\r\n  public divide(v: V | number): V {\r\n    if (v instanceof V) {\r\n      return new V(this.x / v.x, this.y / v.y);\r\n    }\r\n    return new V(this.x / v, this.y / v);\r\n  }\r\n  public modulo(v: V | number): V {\r\n    if (v instanceof V) {\r\n      return new V(this.x % v.x, this.y % v.y);\r\n    }\r\n    return new V(this.x % v, this.y % v);\r\n  }\r\n  public negate(): V {\r\n    return new V(-this.x, -this.y);\r\n  }\r\n  public distance(v: V): number {\r\n    return this.subtract(v).length();\r\n  }\r\n  public length(): number {\r\n    if (this.calculatedLength !== null) {\r\n      return this.calculatedLength;\r\n    }\r\n    this.calculatedLength = Math.sqrt(this.dot());\r\n    return this.calculatedLength;\r\n  }\r\n  public normalize(): V {\r\n    const current = this.length();\r\n    const scale = current !== 0 ? 1 / current : 0;\r\n    return this.multiply(scale);\r\n  }\r\n  public angle(): number {\r\n    return (this.angleInRadians() * 180) / Math.PI;\r\n  }\r\n  public angleInRadians(): number {\r\n    if (this.calculatedAngle !== null) {\r\n      return this.calculatedAngle;\r\n    }\r\n    this.calculatedAngle = Math.atan2(-this.y, this.x);\r\n    return this.calculatedAngle;\r\n  }\r\n  public dot(point: V = this): number {\r\n    return this.x * point.x + this.y * point.y;\r\n  }\r\n  public cross(point: V): number {\r\n    return this.x * point.y - this.y * point.x;\r\n  }\r\n  public rotate(degree: number) {\r\n    const radian = degree * (Math.PI / 180);\r\n    const cos = Math.cos(radian);\r\n    const sin = Math.sin(radian);\r\n    return new V(cos * this.x - sin * this.y, cos * this.y + sin * this.x);\r\n  }\r\n  public static direction(degree: number) {\r\n    return new V(1, 0).rotate(degree);\r\n  }\r\n  public minimize() {\r\n    return { x: Math.round(this.x), y: Math.round(this.y) } as V;\r\n  }\r\n}\r\n","import V from './V';\r\n\r\nconst EPSILON = 10e-12;\r\n\r\nexport default class Utils {\r\n  public static createRadar(c: V, direction: number, angle: number, renge: number): (t: V) => boolean {\r\n    const checkDistance = (t: V) => c.distance(t) <= renge;\r\n\r\n    if (360 <= angle) {\r\n      return checkDistance;\r\n    }\r\n\r\n    const checkLeft = Utils.side(c, direction + angle / 2);\r\n    const checkRight = Utils.side(c, direction + 180 - angle / 2);\r\n\r\n    if (angle < 180) {\r\n      return t => checkLeft(t) && checkRight(t) && checkDistance(t);\r\n    }\r\n    return t => (checkLeft(t) || checkRight(t)) && checkDistance(t);\r\n  }\r\n\r\n  public static side(base: V, degree: number): (t: V) => boolean {\r\n    const radian = Utils.toRadian(degree);\r\n    const direction = new V(Math.cos(radian), Math.sin(radian));\r\n    const previously = base.x * direction.y - base.y * direction.x - EPSILON;\r\n    return (target: V) => {\r\n      return 0 <= target.x * direction.y - target.y * direction.x - previously;\r\n    };\r\n  }\r\n\r\n  public static calcDistance(f: V, t: V, p: V): number {\r\n    const toFrom = t.subtract(f);\r\n    const pFrom = p.subtract(f);\r\n    if (toFrom.dot(pFrom) < EPSILON) {\r\n      return pFrom.length();\r\n    }\r\n\r\n    const fromTo = f.subtract(t);\r\n    const pTo = p.subtract(t);\r\n    if (fromTo.dot(pTo) < EPSILON) {\r\n      return pTo.length();\r\n    }\r\n\r\n    return Math.abs(toFrom.cross(pFrom) / toFrom.length());\r\n  }\r\n\r\n  public static toRadian(degree: number): number {\r\n    return degree * (Math.PI / 180);\r\n  }\r\n\r\n  public static toOpposite(degree: number): number {\r\n    const normalized = Utils.normalizeDegree(degree);\r\n    if (normalized <= 180) {\r\n      return (90 - normalized) * 2 + normalized;\r\n    }\r\n    return (270 - normalized) * 2 + normalized;\r\n  }\r\n\r\n  private static normalizeDegree(degree: number) {\r\n    const remainder = degree % 360;\r\n    return remainder < 0 ? remainder + 360 : remainder;\r\n  }\r\n\r\n  public static rand(renge: number): number {\r\n    return Math.random() * renge;\r\n  }\r\n}\r\n"],"names":["_Configs","Configs","V","x","y","v","current","scale","point","degree","radian","cos","sin","EPSILON","Utils","c","direction","angle","renge","checkDistance","t","checkLeft","checkRight","base","previously","target","f","p","toFrom","pFrom","fromTo","pTo","normalized","remainder"],"mappings":"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"}